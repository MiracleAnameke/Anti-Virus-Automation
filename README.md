# Web Security
## Anti-Virus Automation

### Lab Requirements
- Ubuntu Web Server
- Internet connectivity & VMware Workstation version 15.5.7 or above.

### Lab Overview
In LAB 10, students will engage in Anti-Virus Automation activities, involving the installation of Clam Anti-Virus on Ubuntu Web Server, scripting to automate scanning, configuring email alerts, and scheduling scans. This lab aims to impart practical skills in managing and automating antivirus solutions in a web server environment.

### Lab Tasks and Screenshots

### Part 01: Install Clam Anti-Virus
**Task**: Install Clam Anti-Virus on Ubuntu Web Server and ensure it's operational.
- **Steps**:
    1. Update packages and install ClamAV and its daemon.
    2. Ensure the antivirus engine and signature database are updated using freshclam.
    3. Configure the antivirus to start on boot and manually start the daemon service.

### Part 02: Create a script to scan the web server
**Task**: Develop a bash script to automate the ClamAV scanning process and logging of results.
- **Steps**:
    1. Create a bash script `simple_scan.sh` with scanning commands for ClamAV.
    2. Define scan directory and log file location within the script.
    3. Execute the script and review the generated log for scan results.
- **Slide 01**: Screenshot showing the contents of the log file generated by the simple_scan.sh script, demonstrating the scan results.
  
  <img src="https://i.imgur.com/WglGKQi.png" height="400px" width="auto" alt="ClamAV Scanning Script and Log"/>

### Part 03: Install and configure Send Mail
**Task**: Set up Send Mail to configure email alerts from the Ubuntu Web Server.
- **Steps**:
    1. Install Send Mail and necessary utilities.
    2. Configure Gmail for server authentication and create an authentication file.
    3. Update sendmail configuration to relay emails through Gmail and rebuild the sendmail configuration.
    4. Send a test email to verify the setup.
- **Slide 02**: Screenshot showing the test email received in your FOL inbox
  
  <img src="https://i.imgur.com/S2kywBw.png" height="400px" width="auto" alt="Send Mail Configuration and Test Email"/>

### Part 04: Automate the AV scan and email alert with a cron job
**Task**: Automate the antivirus scanning and email alerting process using a cron job.
- **Steps**:
    1. Create an automated script `auto_clam_scan` and place it in `/etc/cron.hourly/`.
    2. Define scan directories, log location, and email details in the script.
    3. Implement a function within the script to send email alerts if threats are detected.
    4. Test the script manually and ensure it sends an email notification when specified conditions are met.
- **Slide 03**: Screenshot showing an email generated by your script, indicating a successful automated scan and alert system.
  
  <img src="https://i.imgur.com/O5SWdVq.png" height="400px" width="auto" alt="Automated ClamAV Scan and Email Alert"/>

**Conclusion**:This lab is a significant step towards automating and managing security measures effectively, demonstrating the essential skills in deploying, automating, and monitoring antivirus solutions in web server environments.
